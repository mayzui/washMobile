---
title:dns
---

# dns服务

:::tip 什么是dns
:::
日常上网浏览网页的本质:就是从目标服务器上找到
一个html文本文件而已, 浏览器拿到这跟文本文件
进行渲染.
首先第一步就是就是对网站的域名进行解析{www.baidu.com---123.206.16.61}
由于ip地址不好记,使用名称也就是域名代替,所以各大互联网产生了定制的dns服务器
也就是一个key-value类型的数据库,你丢给他一个域名,让立马给你返回一个域名指向的ip地址
目前一些公共的dns域名nameserver服务ip:

```shell
# 阿里的: 223.5.5.5 和 223.6.6.6
# google : 8.8.8.8
# 114: 114.114.114.114
# 腾讯: 119.29.29.29

## 补充说明

# ip地址范围地址分类0~255
# A 类地址 0.0.0.0 ~ 126.255.255.255 超大型网络公司 比如苹果 阿里
# B 类地址128.0.0.0~ 191.255.255.255 大型网络公司 (127是本地会环地址)
# C 类地址192.0.0.0 ~ 233.255.255.255  学校,中小型企业
# D类网络地址 属于广播地址
# E类地址 系统保留地址 
```

比如说电脑上网很慢,用网络优化工具.自动选择最优的dns.....
通过`nslookup`(nameserver lookup)命令查看域名解析关系

```shell
# /etc/hosts文件,本地域名强制绑定域名和ip的关系
# /etc/resolve.conf 改文件填入了互联网上的dns服务器地址,优先级低于本地强制绑定的
# 该命令需要安装dns套装软件包
# yum -y install bind-utils

nslookup www.baidu.com [nameserver]

```

:::tip 什么是dns劫持
:::

```shell
# /etc/hosts -- 本地域名号码簿
# /etc/resolv.conf  --- 填写dns服务服务器地址的号码簿

####
# 问题1:为什么qq能正常聊天,而浏览器不能上网的问题?
# 问题2:你输入的是百度的域名,访问的却是小说网站?

# 正确的访问百度的流程:
# 输入百度域名=>去hosts文件中找对应的ip=>去dns服务找对应的ip=>把请求发给对应的ip=>对应的ip返回给你文本文件

# 劫持访问流程:
# 输入百度域名=>去hosts文件中找到了对应的ip绑定=>请求直接就发给绑定的ip=>返回给你一个广告网站文本
# 输入百度域名=>去hosts文件中对应的ip绑定=>去劫持服务器dns解析服务器=>劫持的服务器对应id=>请求发给对应ip=>返回给你一个广告网站文本

```
:::tip linux如何配置dns服务器
:::

```shell

vim /etc/resolv.conf
nameserver 233.5.5.5
nameserver 233.6.6.6
nameserver 114.114.114.114
nameserver 8.8.8.8

```


